{"version":3,"sources":["components/Form/Form.module.css","components/ContactListItem/ContactListItem.module.css","components/Filter/Filter.module.css","components/ContactList/ContactList.module.css","pages/Home.js","redux/phonebook/phonebook-selectors.js","redux/phonebook/phonebook-operations.js","components/Form/Form.js","redux/phonebook/phonebook-actions.js","components/Filter/Filter.js","components/ContactListItem/ContactListItem.js","components/ContactList/ContactList.js","pages/Contacts.js","redux/auth/thunks.js","pages/Login.js","pages/Register.js","routes/PrivateRoute.js","routes/PublicRoute.js","App.js","redux/auth/slices.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js"],"names":["module","exports","Home","getContacts","state","contacts","getFilter","filterReducer","getAllContacts","filter","normalizeFilter","toLowerCase","length","contact","name","includes","axios","defaults","baseURL","getThunkContacts","createAsyncThunk","_","a","rejectWithValue","get","data","addThunkContact","post","deleteThunkContact","id","delete","Form","useState","SetName","number","SetNumber","useSelector","dispatch","useDispatch","handleChange","e","target","value","resetForm","className","s","form","onSubmit","preventDefault","find","el","alert","label","input","type","onChange","pattern","title","required","button","PropType","PropsType","func","isRequired","handleFilter","createAction","Filter","container","string","ContactListItem","list","item","span","onClick","ContactList","useEffect","map","Contacts","PropsTypes","onDeleteContact","singupThunk","user","response","console","log","error","message","loginThunk","currentThunk","getState","auth","token","Login","email","setEmail","password","setPassword","reset","placeholder","Register","setName","PrivateRoute","isAuth","Component","component","to","PublicRoute","App","path","element","authSlice","createSlice","initialState","isLoading","extraReducers","pending","action","fulfilled","payload","rejected","createReducer","loading","AuthPersistConfig","key","storage","whitelist","ContactsPersistConfig","contactsReducer","combineReducers","authPersistReducer","persistReducer","AuthReducer","contactsPersistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc52ebef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2TM1N\",\"label\":\"Form_label__15SAE\",\"input\":\"Form_input__2ESfd\",\"button\":\"Form_button__243jh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ContactListItem_button__22wLV\",\"list\":\"ContactListItem_list__W6jNB\",\"item\":\"ContactListItem_item__2THQn\",\"span\":\"ContactListItem_span__3G7oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Filter_container__oISjJ\",\"title\":\"Filter_title__mtLuE\",\"input\":\"Filter_input__2DoVp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__2T7aG\"};","export function Home() {\n    return (\n        <>\n            <h2>Hello my friend!</h2>\n        </>\n    )\n}","export const getContacts = state => state.contacts;\nexport const getFilter = state => state.filterReducer;\n\n\nexport const getAllContacts = state => {\n    const contacts = getContacts(state);\n    const filter = getFilter(state);\n    const normalizeFilter = filter.toLowerCase();\n    if (filter.length > 0) {\n        return contacts.filter((contact) =>\n            contact.name.toLowerCase().includes(normalizeFilter),\n        );\n    } else {\n    return contacts;\n    }\n}\n\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n// import {\n//     getContactsRequest,\n//     getContactsSuccess,\n//     getContactsError,\n//     addContactRequest,\n//     addContactSuccess,\n//     addContactError,\n//     deleteContactRequest,\n//     deleteContactSuccess,\n//     deleteContactError,\n// } from \"./phonebook-actions\";\n\naxios.defaults.baseURL = 'https://619b80902782760017445631.mockapi.io/api/v1';\n\n\nexport const getThunkContacts = createAsyncThunk('getContact', async (_, { rejectWithValue }) => {\n    try {\n        const { data } = await axios.get('/contacts');\n        // console.log('thunkData', data);\n        return data;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n});\n\nexport const addThunkContact = createAsyncThunk('addContact', async (contact, { rejectWithValue }) => {\n    try {\n        const { data } = await axios.post('/contacts', contact);\n        return data;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n});\n\nexport const deleteThunkContact = createAsyncThunk('deleteContact', async (id, { rejectWithValue }) => {\n    try {\n        await axios.delete(`/contacts/${id}`);\n        return id;\n    } catch (error) {\n        return rejectWithValue(error);\n    }\n})\n\n\n\n\n\n//async operations\n// export const getContacts = () => async dispatch => {\n//     dispatch(getContactsRequest())\n//     try {\n//         const { data } = await axios.get('/contacts');\n//          console.log(data);\n//         dispatch(getContactsSuccess(data));    \n//     } catch (error) {\n//         dispatch(getContactsError(error))\n//     }\n// };\n\n// export const addContact = contact => async dispatch => {\n//     dispatch(addContactRequest());\n//     try {\n//         const { data } = await axios.post('/contacts', contact);\n//         dispatch(addContactSuccess(data));\n//     } catch (error) {\n//         dispatch(addContactError(error));\n//     }\n// }\n\n// export const deleteContact = id => async dispatch => {\n//     dispatch(deleteContactRequest());\n//     try {\n//         await axios.delete(`/contacts/${id}`);\n//         dispatch(deleteContactSuccess(id))\n//     } catch (error) {\n//         dispatch(deleteContactError(error))\n//     }\n// }\n\n\n//operations\n// export const getContacts = () => dispatch => {\n//     dispatch(getContactsRequest())\n//     axios.get('/contacts')\n//         .then(({ data }) => {\n//             dispatch(getContactsSuccess(data));\n//         })\n//         .catch (err => {\n//             dispatch(getContactsError(err));\n//         });\n    \n// };\n\n// export const addContact = contact => dispatch => {\n//     dispatch(addContactRequest())\n//     axios\n//         .post('/contacts', contact)\n//         .then(({ data }) => {\n//             dispatch(addContactSuccess(data));\n//         })\n//         .catch (err => {\n//             dispatch(addContactError(err));\n//         });\n// };\n\n// export const deleteContact = (id) => dispatch => {\n//     dispatch(deleteContactRequest());\n//     axios.delete(`/contacts/${id}`)\n//         .then(() => dispatch(deleteContactSuccess(id)))\n//         .catch(error => dispatch(deleteContactError(error)))\n// }\n\n\n","import { useState } from \"react\";\nimport PropsType from \"prop-types\";\nimport s from \"../Form/Form.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getContacts } from \"../../redux/phonebook/phonebook-selectors\";\nimport { addThunkContact } from '../../redux/phonebook/phonebook-operations'\n\nexport default function Form() {\n  const [name, SetName] = useState('');\n  const [number, SetNumber] = useState('');\n  const contacts = useSelector(getContacts);\n  const dispatch = useDispatch();\n    \n  const handleChange = (e) => {\n      const { name, value } = e.target;\n      switch (name) {\n          case 'name':\n              SetName(value);\n              break;\n          case 'number':\n              SetNumber(value);\n              break;\n          default:\n      }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const contact = {\n      name,\n      number,\n      };\n    \n    if (contacts.find((el) => el.name === contact.name)) {\n        alert(`${contact.name} is already in contacts`);\n      } else {\n        dispatch(addThunkContact(contact));\n      };\n\n    resetForm();\n  }\n\n  const resetForm = () => {\n      SetName('');\n      SetNumber('');\n  }\n\n    return (\n      <form className={s.form} onSubmit={handleSubmit}>\n        <label className={s.label}>\n          Name\n          <input\n            className={s.input}\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={handleChange}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n          />\n        </label>\n        <label className={s.label}>\n          Number\n          <input\n            className={s.input}\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            onChange={handleChange}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n          />\n        </label>\n        <button className={s.button} type=\"submit\">\n          Add contact\n        </button>\n      </form>\n    );\n}\n\nForm.PropType = {\n  onSubmit: PropsType.func.isRequired,\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\n//getcontacts\n// pending\nexport const getContactsRequest = createAction('getContactsRequest');\n//resolved\nexport const getContactsSuccess = createAction('getContactsSuccess');\n// rejected\nexport const getContactsError = createAction('getContactsError');\n\n//addContact\n// pending\nexport const addContactRequest = createAction('addContactRequest');\n//resolved\nexport const addContactSuccess = createAction('addContactSuccess');\n// rejected\nexport const addContactError = createAction('addContactError');\n\n//deleteContact\n// pending\nexport const deleteContactRequest = createAction('deleteContactRequest');\n//resolved\nexport const deleteContactSuccess = createAction('deleteContactSuccess');\n// rejected\nexport const deleteContactError = createAction('deleteContactError');\n\n\nexport const handleFilter = createAction('phonebookHandleFilter');\n\n\n\n\n","import PropsType from \"prop-types\";\nimport s from \"../Filter/Filter.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { handleFilter } from \"../../redux/phonebook/phonebook-actions\";\nimport { getFilter } from \"../../redux/phonebook/phonebook-selectors\";\n\nexport function Filter() {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  return (\n    <div className={s.container}>\n      <h3 className={s.title}>Find contacts by name:</h3>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n        onChange={(e) => dispatch(handleFilter(e.target.value))}\n        className={s.input}\n      />\n    </div>\n  );\n}\n\nFilter.PropsType = {\n  value: PropsType.string,\n  onChange: PropsType.func.isRequired,\n};\n","import PropsType from \"prop-types\";\nimport s from \"../ContactListItem/ContactListItem.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteThunkContact } from \"../../redux/phonebook/phonebook-operations\";\n\nexport function ContactListItem({ id, name, number }) {\n  const dispatch = useDispatch();\n  \n  return (\n    <li className={s.list}>\n      <p className={s.item}>\n        {name}:<span className={s.span}>{number}</span>\n      </p>\n      <button\n        type=\"submit\"\n        onClick={() => dispatch(deleteThunkContact(id))}\n        className={s.button}\n      >\n        Delete\n      </button>\n    </li>\n  );\n}\n\nContactListItem.PropsTypes = {\n  id: PropsType.number.isRequired,\n  name: PropsType.string.isRequired,\n  number: PropsType.number.isRequired,\n  onDeleteContact: PropsType.func.isRequired,\n};\n\n\n","\nimport PropsType from \"prop-types\";\nimport s from \"../ContactList/ContactList.module.css\";\nimport { ContactListItem } from \"../ContactListItem/ContactListItem\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from 'react';\nimport { getAllContacts } from \"../../redux/phonebook/phonebook-selectors\";\nimport { getThunkContacts } from '../../redux/phonebook/phonebook-operations';\n\n\nexport function ContactList() {\n  const contacts = useSelector(getAllContacts);\n  const dispatch = useDispatch();\n  \n  useEffect(() => {\n    dispatch(getThunkContacts());\n  }, [dispatch]);\n    \n  return (\n    <ul className={s.list}>\n      {contacts.map(({ id, name, number }) => (\n          <ContactListItem\n            key={id}\n            id={id}\n            name={name}\n            number={number}\n          />\n        )\n      )}\n    </ul>\n  );\n}\n\nContactList.PropsType = {\n  id: PropsType.number.isRequired,\n  name: PropsType.string.isRequired,\n  number: PropsType.number.isRequired,\n};\n\n\n","import Form from \"../components/Form/Form\";\nimport { Filter } from \"../components/Filter/Filter\";\nimport { ContactList } from \"../components/ContactList/ContactList\";\n\n\nexport function Contacts() {\n    return (\n        <>\n            <h2 className=\"title\">Phonebook</h2>\n                <Form/>\n                <div>\n                    <h2 className=\"title\">Contacts</h2>\n                    <Filter/>\n                    <ContactList/>\n                </div>\n        </>\n    )\n}\n\n\n\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\nconst signupUser = '/users/signup';\nconst userLogin = '/users/login';\nconst userLogout = '/users/logout';\nconst CurrentUser = '/users/current';\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Autorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Autorization = '';\n    }\n}\n\nexport const singupThunk = createAsyncThunk('users/signup', async(user, { rejectWithValue }) => {\n    try {\n        const response = await axios.post(signupUser, user);\n        console.log(response.data);\n        return response.data;\n    } catch (err) {\n        return rejectWithValue({ error: err.message });\n    }\n});\n\nexport const loginThunk = createAsyncThunk('users/login', async (user, { rejectWithValue }) => {\n    try {\n        const response = await axios.post(userLogin, user);\n        console.log(response.data);\n        return response.data;\n    } catch (err) {\n        return rejectWithValue({ error: err.message });\n    }\n});\n\n// export const userLogoutThunk = createAsyncThunk('users/logout', async (user, { rejectWithValue }) => {\n//     try {\n//         const response = await axios.post(userLogout, user);\n//         return response.data;\n//     } catch (error) {\n//         return rejectWithValue(error);\n//     }\n// });\n\nexport const currentThunk = createAsyncThunk('users/current', async (_, { rejectWithValue, getState }) => {\n    const state = getState();\n    console.log('store', state.auth.token);\n    // try {\n    //     const response = await axios.get(CurrentUser);\n    //     return response.data;\n    // } catch (error) {\n    //     return rejectWithValue(error);\n    // }\n});","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { loginThunk } from '../redux/auth/thunks';\n\nexport function Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const dispatch = useDispatch();\n    const handleChange = (e) => {\n        switch (e.target.name) {\n            case \"email\":\n                setEmail(e.target.value);\n                break;\n            case \"password\":\n                setPassword(e.target.value);\n                break;\n            default:\n                alert('check input name please ');\n        }\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const user = {\n            email,\n            password\n        }\n        dispatch(loginThunk(user));\n        reset();\n    };\n    const reset = () => {\n        setEmail('');\n        setPassword('');\n    }\n\n    return (\n        <>\n            <h2>Login Form</h2>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"mail\"\n                    name=\"email\"\n                    value={email}\n                    placeholder=\"email\"\n                    onChange={handleChange}\n                />\n                <br />\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    placeholder=\"password\"\n                    onChange={handleChange}\n                />\n                <br />\n                <button type=\"submit\">Register</button>\n            </form>\n        </>\n    )\n}","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { singupThunk } from '../redux/auth/thunks';\n\nexport function Register() {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const dispatch = useDispatch();\n    const handleChange = (e) => {\n        switch (e.target.name) {\n            case \"name\":\n                setName(e.target.value);\n                break;\n            case \"email\":\n                setEmail(e.target.value);\n                break;\n            case \"password\":\n                setPassword(e.target.value);\n                break;\n            default:\n                alert('check input name please ');\n        }\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const user = {\n            name,\n            email,\n            password\n        }\n        dispatch(singupThunk(user));\n        reset();\n    };\n    const reset = () => {\n        setName('');\n        setEmail('');\n        setPassword('');\n    }\n\n    return (\n        <>\n            <h2>Register Form</h2>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={name}\n                    placeholder=\"name\"\n                    onChange={handleChange}\n                />\n                <br />\n                <input\n                    type=\"mail\"\n                    name=\"email\"\n                    value={email}\n                    placeholder=\"email\"\n                    onChange={handleChange}\n                />\n                <br />\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    placeholder=\"password\"\n                    onChange={handleChange}\n                />\n                <br />\n                <button type=\"submit\">Register</button>\n            </form>\n        </>\n    )\n}","import { Navigate } from \"react-router-dom\";\n\nexport function PrivateRoute({isAuth, component: Component}) {\n    return (\n        <>\n            <h1>Private</h1>\n            {isAuth ? <Component /> : <Navigate to=\"/login\"/> }\n            \n        </>\n    )\n}","import { Navigate } from \"react-router-dom\"\n\nexport function PublicRoute({ isAuth, component: Component }) {\n    return (\n        <>\n            <h1>Public</h1>\n            {isAuth ? <Navigate to=\"/\"/> : <Component />}\n            \n        </>\n    )\n}","\nimport \"./App.css\";\nimport { Link, Routes, Route } from \"react-router-dom\";\nimport { Home } from './pages/Home';\nimport { Contacts } from './pages/Contacts';\nimport { Login } from './pages/Login';\nimport { Register } from './pages/Register';\nimport { PrivateRoute } from \"./routes/PrivateRoute\";\nimport { PublicRoute } from \"./routes/PublicRoute\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { currentThunk } from \"./redux/auth/thunks\";\n\n\nconst isAuth = false;\n\n\nexport default function App() {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(currentThunk());\n      })\n\n   return (\n        <div className=\"App\">\n           <header className=\"App-header\">\n               <nav className=\"nav\">\n                   <ul>\n                       <li>\n                           <Link to=\"/\">Home</Link>\n                       </li>\n                       <li>\n                           <Link to=\"/contacts\">Contacts</Link>\n                       </li>\n                       <li>\n                           <Link to=\"/login\">Login</Link>\n                       </li>\n                       <li>\n                           <Link to=\"/register\">Register</Link>\n                       </li>\n                   </ul>\n               </nav>\n                \n           </header>\n           <main>\n               <Routes>\n                   <Route path=\"/\" element={<PrivateRoute isAuth={isAuth} component={Home}/>} />\n                   <Route path=\"/contacts\" element={<PrivateRoute isAuth={isAuth} component={Contacts} />} />\n                   <Route path=\"/login\" element={<PublicRoute isAuth={isAuth} component={Login}/>} />\n                   <Route path=\"/register\" element={<PublicRoute isAuth={isAuth} component={Register}/>}/>\n               </Routes>\n           </main>\n        </div>\n    );\n}\n\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { singupThunk, loginThunk } from \"./thunks\";\n\n\nconst authSlice = createSlice({\n    name: \"auth\",\n    initialState: {\n        user: { name: null, email: null },\n        token: null,\n        error: null,\n        isLoading: false,\n        isAuth: false,\n    },\n    extraReducers: {\n        [singupThunk.pending](state, action) {\n            return {\n                ...state,\n                isLoading: true,\n            }\n        },\n        [singupThunk.fulfilled](state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                isAuth: true,\n                user: action.payload.user,\n                token: action.payload.token,\n            }\n         },\n        [singupThunk.rejected](state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                error: action.payload,\n            }\n        },\n        [loginThunk.pending](state, action) {\n            return {\n                ...state,\n                isLoading: true,\n            }\n        },\n        [loginThunk.fulfilled](state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                isAuth: true,\n                user: action.payload.user,\n                token: action.payload.token,\n            }\n         },\n        [loginThunk.rejected](state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                error: action.payload,\n            }\n        },\n    }\n\n})\n\n// export const { } = authSlice.actions;\nexport default authSlice.reducer;","import { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  // getContactsRequest,\n  // getContactsSuccess,\n  // getContactsError,\n  // addContactRequest,\n  // addContactSuccess,\n  // addContactError,\n  // deleteContactSuccess,\n  // deleteContactRequest,\n  // deleteContactError,\n  handleFilter,\n} from \"./phonebook-actions\";\nimport { getThunkContacts, addThunkContact, deleteThunkContact } from \"./phonebook-operations\";\n\n\nexport const contacts = createReducer([], {\n  [getThunkContacts.fulfilled]: (_, action) => action.payload,\n  [addThunkContact.fulfilled]: (state, action) => {\n    return [...state, action.payload];\n  },\n  [deleteThunkContact.fulfilled]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n});\n\nexport const loading = createReducer(false, {\n  [getThunkContacts.pending]: () => true,\n  [getThunkContacts.fulfilled]: () => false,\n  [getThunkContacts.rejected]: () => false,\n  [addThunkContact.pending]: () => true,\n  [addThunkContact.fulfilled]: () => false,\n  [addThunkContact.rejected]: () => false,\n  [deleteThunkContact.pending]: () => true,\n  [deleteThunkContact.fulfilled]: () => false,\n  [deleteThunkContact.rejected]: () => false,\n});\n\n  \nexport const error = createReducer(null, {\n  [getThunkContacts.rejected]: (_, action) => action.payload,\n  [addThunkContact.rejected]: (_, action) => action.payload,\n  [deleteThunkContact.rejected]: (_, action) => action.payload,\n  \n});\n\nexport const filterReducer = createReducer('', {\n  [handleFilter]: (_, { payload }) => payload,\n});\n\n\n\n//operations\n// export const contacts = createReducer([], {\n//   [getContactsSuccess]: (_, action) => action.payload,\n//   [addContactSuccess]: (state, action) => {\n//     return [...state, action.payload];\n//   },\n//   [deleteContactSuccess]: (state, { payload }) =>\n//     state.filter(contact => contact.id !== payload),\n// });\n\n  \n// export const loading = createReducer(false, {\n//   [getContactsRequest]: () => true,\n//   [getContactsSuccess]: () => false,\n//   [getContactsError]: () => false,\n//   [addContactRequest]: () => true,\n//   [addContactSuccess]: () => false,\n//   [addContactError]: () => false,\n//   [deleteContactRequest]: () => true,\n//   [deleteContactSuccess]: () => false,\n//   [deleteContactError]: () => false,\n// });\n\n  \n// export const error = createReducer(null, {\n//   [getContactsError]: (_, action) => action.payload,\n//   [addContactError]: (_, action) => action.payload,\n//   [deleteContactError]: (_, action) => action.payload,\n  \n// });\n\n//async\n// export const contacts = createReducer([], {\n//   [getContacts.fulfilled]: (_, action) => action.payload,\n//   [addContact.fulfilled]: (state, action) => {\n//     return [...state, action.payload];\n//   },\n//   [deleteContact.fulfilled]: (state, { payload }) =>\n//     state.filter(contact => contact.id !== payload),\n// });\n\n  \n// export const loading = createReducer(false, {\n//   [getContacts.pedning]: () => true,\n//   [getContacts.fulfilled]: () => false,\n//   [getContacts.rejected]: () => false,\n//   [addContact.pedning]: () => true,\n//   [addContact.fulfilled]: () => false,\n//   [addContact.rejected]: () => false,\n//   [deleteContact.pedning]: () => true,\n//   [deleteContact.fulfilled]: () => false,\n//   [deleteContact.rejected]: () => false,\n// });\n\n  \n// export const error = createReducer(null, {\n//   [getContacts.rejected]: (_, action) => action.payload,\n//   [addContact.rejected]: (_, action) => action.payload,\n//   [deleteContact.rejected]: (_, action) => action.payload,\n  \n// });\n\n\n\n\n\n\n\n\n\n\n\n///////////////////////////////////\n\n// const initialState = [\n//     { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\n//     { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\n//     { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\n//     { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\n//   ];\n\n\n// export const contactsReducer = createReducer(initialState, {\n// [addNewContact]: (state, { payload }) => [...state, payload],\n// [deleteContact]: (state, { payload }) =>\n// state.filter(contact => contact.id !== payload),\n// });\n\n\n\n// export const filterReducer = createReducer('', {\n//   [handleFilter]: (_, { payload }) => payload,\n// });\n\n\n// const contactsReducer = (state = initialState, { type, payload }) => {\n//    switch (type) {\n//      case types.ADD:\n//       return [...state, payload];\n     \n     \n//      case types.DELETE:\n//        return state.filter((el) => el.id !== payload.id);\n     \n//      default:\n//        return state;\n//    }\n//  }\n  \n// const filterReducer = (state = '', {type, payload}) => {\n//     switch (type) {\n//       case types.HANDLE_FILTER:\n//         return payload;\n//      default:\n//        return state;\n//    }\n// }\n\n","import { combineReducers } from \"redux\";\nimport AuthReducer from './auth/slices';\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport { contacts, loading, error, filterReducer } from './phonebook/phonebook-reducer';\nimport {\n  persistStore,\n  persistReducer,\n    FLUSH,\n    REHYDRATE,\n    PAUSE,\n    PERSIST,\n    PURGE,\n    REGISTER,\n} from 'redux-persist';\n\nimport storage from 'redux-persist/lib/storage';\n\nconst AuthPersistConfig = {\n  key: 'authToken',\n  storage,\n  whitelist: ['token'],\n};\n\nconst ContactsPersistConfig = {\n  key: 'Contacts',\n  storage,\n};\n\nconst contactsReducer = combineReducers({\n  contacts,\n  loading,\n  error,\n  filterReducer,\n});\n\nconst authPersistReducer = persistReducer(AuthPersistConfig, AuthReducer);\nconst contactsPersistReducer = persistReducer(ContactsPersistConfig, contactsReducer);\n\n\nexport const store = configureStore({\n  reducer: {\n    auth: authPersistReducer,\n    contacts: contactsPersistReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n});\n\nexport const persistor = persistStore(store);\n\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from './redux/store';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <Router>\n          <App />\n        </Router>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}